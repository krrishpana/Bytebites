
{% extends "nutrition/base.html" %}
{% load static %}

{% block title %}Register - ByteBites{% endblock %}

{% block extra_head %}
<link rel="stylesheet" href="{% static 'css/auth.css' %}">
{% endblock %}

{% block content %}
<div class="auth-container">
    <div class="auth-wrapper">
        <div class="auth-branding">
            <div class="auth-logo">
                <img src="{% static 'image/header_logo1.png' %}" alt="ByteBites Logo">
                <h1>ByteBites</h1>
            </div>
            <div class="auth-tagline">
                <h2>Fuel Your Body,</h2>
                <h2>One Byte at a Time.</h2>
            </div>
        </div>
        <div class="auth-form-container">
            <form method="POST" class="auth-form">
                {% csrf_token %}

                {% if messages %}
                <div class="messages-container">
                    {% for message in messages %}
                    <div class="message {% if message.tags %}{{ message.tags }}{% endif %}">
                        {{ message }}
                    </div>
                    {% endfor %}
                </div>
                {% endif %}

                {% if form.non_field_errors %}
                <div class="error-message message error">
                    {% for error in form.non_field_errors %}
                        {{ error }}
                    {% endfor %}
                </div>
                {% endif %}

                <div class="form-group">
                    {{ form.username }}
                    {% if form.username.errors %}
                        <div class="error-message">
                            {% for error in form.username.errors %}
                                {{ error }}
                            {% endfor %}
                        </div>
                        <script>
                            document.getElementById('id_username').classList.add('is-invalid');
                        </script>
                    {% endif %}
                </div>

                <div class="form-group">
                    {{ form.email }}
                    {% if form.email.errors %}
                        <div class="error-message">
                            {% for error in form.email.errors %}
                                {{ error }}
                            {% endfor %}
                        </div>
                        <script>
                            document.getElementById('id_email').classList.add('is-invalid');
                        </script>
                    {% endif %}
                </div>

                <div class="form-group">
                    {{ form.password1 }}
                    {% if form.password1.errors %}
                        <div class="error-message">
                            {% for error in form.password1.errors %}
                                {{ error }}
                            {% endfor %}
                        </div>
                        <script>
                            document.getElementById('id_password1').classList.add('is-invalid');
                        </script>
                    {% endif %}
                </div>

                <div class="form-group">
                    {{ form.password2 }}
                    {% if form.password2.errors %}
                        <div class="error-message">
                            {% for error in form.password2.errors %}
                                {{ error }}
                            {% endfor %}
                        </div>
                        <script>
                            document.getElementById('id_password2').classList.add('is-invalid');
                        </script>
                    {% endif %}
                </div>

                <button type="submit" class="auth-btn">Create new account</button>
                <div class="auth-links">
                    <a href="{% url 'login' %}">Already have an account?</a>
                </div>
            </form>
            <div class="auth-footer">
                Explore fitness, recipes, and nutrition plans
            </div>
        </div>
    </div>
</div>

<style>
    /* Style the form inputs to match our design */
    #id_username, #id_email, #id_password1, #id_password2 {
        width: 100%;
        padding: 12px 16px;
        font-size: 16px;
        border: 1px solid #ddd;
        border-radius: 8px;
        background-color: white;
        transition: border-color 0.3s;
        margin-bottom: 5px;
    }

    #id_username::placeholder, #id_email::placeholder, #id_password1::placeholder, #id_password2::placeholder {
        color: #999;
    }

    #id_username {
        background-image: none;
    }

    .helptext {
        display: none;
    }
</style>
{% endblock %}
